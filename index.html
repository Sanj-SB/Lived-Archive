<html lang="en">

  

<head>

  

<meta charset="UTF-8">

  

<meta name="viewport" content="width=device-width, initial-scale=1.0">

  

<title>Lived Archive</title>

  

<style>

  

* {

  

margin: 0;

  

padding: 0;

  

box-sizing: border-box;

  

}

  

  

body {

  

font-family: 'Georgia', serif;

  

background: #f5f5f0;

  

color: #333;

  

}

  

  

/* Header Styling */

  

.header {

  

position: fixed;

  

top: 0;

  

left: 0;

  

right: 0;

  

background: #f5f5f0;

  

padding: 20px 40px;

  

display: flex;

  

justify-content: space-between;

  

align-items: center;

  

z-index: 1000;

  

border-bottom: 1px solid #e0e0e0;

  

}

  

  

.logo {

  

width: 50px;

  

height: 50px;

  

background: #4a5268;

  

border-radius: 50%;

  

}

  

  

.header-center {

  

display: flex;

  

gap: 20px;

  

align-items: center;

  

}

  

  

.btn {

  

padding: 12px 28px;

  

background: #4a5268;

  

color: white;

  

border: none;

  

border-radius: 25px;

  

cursor: pointer;

  

font-size: 16px;

  

transition: background 0.3s;

  

font-family: 'Georgia', serif;

  

}

  

  

.btn:hover {

  

background: #5d6580;

  

}

  

  

.btn:disabled {

  

background: #ccc;

  

cursor: not-allowed;

  

}

  

  

.search-bar {

  

padding: 12px 24px;

  

width: 500px;

  

border: 1px solid #ddd;

  

border-radius: 25px;

  

font-size: 16px;

  

background: white;

  

}

  

  

/* Page Container */

  

.page {

  

display: none;

  

padding: 120px 40px 40px 40px;

  

min-height: 100vh;

  

}

  

  

.page.active {

  

display: block;

  

}

  

  

/* Home Page (Archive) Styling */

  

.home-header {

  

text-align: center;

  

margin-bottom: 60px;

  

}

  

  

.date-text {

  

font-size: 14px;

  

color: #666;

  

margin-bottom: 10px;

  

}

  

  

.home-header h1 {

  

font-size: 48px;

  

font-weight: normal;

  

margin-bottom: 15px;

  

letter-spacing: 1px;

  

}

  

  

.home-header p {

  

font-size: 16px;

  

color: #666;

  

font-style: italic;

  

}

  

  

.artifacts-grid {

  

display: grid;

  

grid-template-columns: repeat(3, 1fr);

  

gap: 30px;

  

max-width: 1400px;

  

margin: 0 auto;

  

}

  

  

.artifact-card {

  

background: white;

  

border-radius: 20px;

  

overflow: hidden;

  

cursor: pointer;

  

transition: transform 0.3s, box-shadow 0.3s;

  

border: 1px solid #e0e0e0;

  

}

  

  

.artifact-card:hover {

  

transform: translateY(-5px);

  

box-shadow: 0 10px 30px rgba(0,0,0,0.1);

  

}

  

  

.artifact-card-image {

  

width: 100%;

  

height: 200px;

  

background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);

  

position: relative;

  

overflow: hidden;

  

}

  

  

.artifact-card-image img {

  

width: 100%;

  

height: 100%;

  

object-fit: cover;

  

}

  

  

.artifact-card-image::before {

  

content: '';

  

position: absolute;

  

width: 200%;

  

height: 200%;

  

background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);

  

background-size: 20px 20px;

  

animation: stars 20s linear infinite;

  

z-index: 0;

  

}

  

  

.artifact-card-image::after {

  

content: '';

  

position: absolute;

  

top: 50%;

  

left: 50%;

  

width: 2px;

  

height: 100px;

  

background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.5), transparent);

  

transform: translate(-50%, -50%) rotate(45deg);

  

z-index: 0;

  

}

  

  

@keyframes stars {

  

from { transform: translate(0, 0); }

  

to { transform: translate(-50px, -50px); }

  

}

  

  

.artifact-card-content {

  

padding: 20px;

  

}

  

  

.artifact-card-content h3 {

  

font-size: 24px;

  

margin-bottom: 15px;

  

font-weight: normal;

  

}

  

  

.artifact-tags {

  

display: flex;

  

gap: 8px;

  

flex-wrap: wrap;

  

}

  

  

/* CTA Card */

  

.cta-card {

  

background: linear-gradient(135deg, #9b8fc9 0%, #a89dd4 100%);

  

border-radius: 20px;

  

padding: 40px;

  

display: flex;

  

flex-direction: column;

  

justify-content: space-between;

  

color: white;

  

border: 1px solid #8977b8;

  

}

  

  

.cta-card h2 {

  

font-size: 36px;

  

margin-bottom: 20px;

  

font-weight: normal;

  

}

  

  

.cta-card p {

  

font-size: 16px;

  

line-height: 1.6;

  

margin-bottom: 30px;

  

color: #2c3e50;

  

}

  

  

.cta-card .btn {

  

background: #6b5b95;

  

align-self: flex-start;

  

}

  

  

.cta-card .btn:hover {

  

background: #5a4a7f;

  

}

  

  

/* Submit Page Styling */

  

.submit-header {

  

text-align: center;

  

margin-bottom: 60px;

  

}

  

  

.submit-header h1 {

  

font-size: 48px;

  

font-weight: normal;

  

margin-bottom: 15px;

  

}

  

  

.submit-header p {

  

font-size: 16px;

  

color: #666;

  

font-style: italic;

  

}

  

  

.upload-section {

  

max-width: 1200px;

  

margin: 0 auto;

  

}

  

  

.upload-grid {

  

display: grid;

  

grid-template-columns: 1fr 1fr;

  

gap: 30px;

  

margin-bottom: 30px;

  

}

  

  

.upload-box {

  

background: white;

  

border: 2px dashed #ccc;

  

border-radius: 20px;

  

padding: 60px 40px;

  

text-align: center;

  

cursor: pointer;

  

transition: all 0.3s;

  

position: relative;

  

}

  

  

.upload-box:hover {

  

border-color: #4a5268;

  

background: #fafafa;

  

}

  

  

.upload-box h3 {

  

font-size: 24px;

  

margin-bottom: 20px;

  

font-weight: normal;

  

}

  

  

.upload-box p {

  

color: #999;

  

font-size: 16px;

  

}

  

  

.upload-box input[type="file"] {

  

display: none;

  

}

  

  

.upload-box.full-width {

  

grid-column: 1 / -1;

  

}

  

  

.text-upload {

  

padding: 20px;

  

min-height: 200px;

  

width: 100%;

  

border: 2px dashed #ccc;

  

border-radius: 20px;

  

font-size: 16px;

  

font-family: 'Georgia', serif;

  

resize: vertical;

  

}

  

  

.text-upload:focus {

  

outline: none;

  

border-color: #4a5268;

  

}

  

  

.generate-section {

  

text-align: center;

  

margin-top: 40px;

  

}

  

  

#loadingMsg, #errorMsg {

  

display: none;

  

margin-top: 20px;

  

padding: 15px;

  

border-radius: 10px;

  

}

  

  

#loadingMsg {

  

background: #e3f2fd;

  

color: #1976d2;

  

}

  

  

#errorMsg {

  

background: #ffebee;

  

color: #c62828;

  

}

  

  

/* File Preview */

  

.file-preview {

  

display: none;

  

margin-top: 20px;

  

padding: 20px;

  

background: #f9f9f9;

  

border-radius: 10px;

  

}

  

  

.file-preview.active {

  

display: block;

  

}

  

  

.file-name {

  

display: flex;

  

align-items: center;

  

gap: 10px;

  

margin-bottom: 10px;

  

font-size: 14px;

  

}

  

  

.file-icon {

  

width: 24px;

  

height: 24px;

  

fill: #4a5268;

  

}

  

  

.file-preview img {

  

max-width: 100%;

  

border-radius: 10px;

  

margin-top: 10px;

  

}

  

  

/* Tags Section */

  

.results-section {

  

display: none;

  

max-width: 1200px;

  

margin: 40px auto;

  

}

  

  

.results-section.active {

  

display: block;

  

}

  

  

.tag-category {

  

margin-bottom: 30px;

  

}

  

  

.tag-category h3 {

  

font-size: 20px;

  

margin-bottom: 15px;

  

font-weight: normal;

  

}

  

  

.tags-container {

  

display: flex;

  

flex-wrap: wrap;

  

gap: 10px;

  

}

  

  

.tag {

  

padding: 10px 20px;

  

background: #e0e0e0;

  

color: #333;

  

border-radius: 20px;

  

font-size: 14px;

  

cursor: pointer;

  

transition: all 0.3s;

  

border: 2px solid transparent;

  

}

  

  

.tag:hover {

  

background: #d0d0d0;

  

}

  

  

.tag.selected {

  

background: #4a5268;

  

color: white;

  

border-color: #4a5268;

  

}

  

  

.tag.ai-suggested {

  

background: #e0e0e0;

  

border-color: #4a5268;

border-style: dotted;

  

}

  

  

.tag.ai-suggested.selected {

  

background: #4a5268;

  

color: white;

border-color: #4a5268;

  

}

  

  

.custom-tag-input {

  

display: flex;

  

gap: 10px;

  

margin-top: 15px;

  

}

  

  

.custom-tag-input input {

  

flex: 1;

  

padding: 10px 15px;

  

border: 1px solid #ddd;

  

border-radius: 20px;

  

font-size: 14px;

  

}

  

  

.custom-tag-input button {

  

padding: 10px 20px;

  

background: #4a5268;

  

color: white;

  

border: none;

  

border-radius: 20px;

  

cursor: pointer;

  

}

  

  

/* Selected Summary */

  

.selected-summary {

  

display: none;

  

background: white;

  

padding: 20px;

  

border-radius: 15px;

  

margin: 30px auto;

  

max-width: 1200px;

  

box-shadow: 0 2px 10px rgba(0,0,0,0.1);

  

}

  

  

.selected-summary.active {

  

display: block;

  

}

  

  

/* Description Section */

  

.description-section {

  

display: none;

  

max-width: 1200px;

  

margin: 30px auto;

  

}

  

  

.description-section.active {

  

display: block;

  

}

  

  

.description-section h3 {

  

font-size: 24px;

  

margin-bottom: 15px;

  

font-weight: normal;

  

}

  

  

.description-section textarea {

  

width: 100%;

  

min-height: 150px;

  

padding: 20px;

  

border: 2px solid #ddd;

  

border-radius: 15px;

  

font-size: 16px;

  

font-family: 'Georgia', serif;

  

resize: vertical;

  

}

  

  

/* Submit Section */

  

.submit-section {

  

display: none;

  

text-align: center;

  

margin: 30px auto;

  

max-width: 1200px;

  

}

  

  

.submit-section.active {

  

display: block;

  

}

  

  

/* Review Queue Styling */

  

.review-header {

  

text-align: center;

  

margin-bottom: 60px;

  

}

  

  

.review-header h1 {

  

font-size: 48px;

  

font-weight: normal;

  

}

  

  

.review-content {

  

max-width: 1200px;

  

margin: 0 auto;

  

}

  

  

.artifact-viewer {

  

background: white;

  

border-radius: 20px;

  

padding: 40px;

  

margin-bottom: 30px;

  

}

  

  

.artifact-section {

  

margin-bottom: 30px;

  

}

  

  

.artifact-section h3 {

  

font-size: 20px;

  

margin-bottom: 15px;

  

font-weight: normal;

  

}

  

  

.artifact-image {

  

width: 100%;

  

max-height: 500px;

  

object-fit: contain;

  

border-radius: 15px;

  

}

  

  

.artifact-pdf {

  

width: 100%;

  

height: 600px;

  

border: none;

  

border-radius: 15px;

  

}

  

  

.artifact-audio {

  

width: 100%;

  

}

  

  

.artifact-text {

  

padding: 20px;

  

background: #f9f9f9;

  

border-radius: 10px;

  

line-height: 1.8;

  

}

  

  

.artifact-tags-display {

  

display: flex;

  

flex-wrap: wrap;

  

gap: 10px;

  

}

  

  

.tag.readonly {

  

cursor: default;

  

}

  

  

.review-actions {

  

display: flex;

  

justify-content: center;

  

gap: 20px;

  

margin-top: 30px;

  

}

  

  

.accept-btn {

  

padding: 15px 40px;

  

background: #ffa726;

  

color: white;

  

border: none;

  

border-radius: 25px;

  

cursor: pointer;

  

font-size: 18px;

  

transition: background 0.3s;

  

}

  

  

.accept-btn:hover {

  

background: #fb8c00;

  

}

  

  

.reject-btn {

  

padding: 15px 40px;

  

background: #999;

  

color: white;

  

border: none;

  

border-radius: 25px;

  

cursor: not-allowed;

  

font-size: 18px;

  

}

  

  

.no-artifacts {

  

text-align: center;

  

padding: 60px;

  

color: #999;

  

}

  

  

.no-artifacts svg {

  

width: 80px;

  

height: 80px;

  

margin-bottom: 20px;

  

fill: #ddd;

  

}

  

  

.no-artifacts h3 {

  

font-size: 24px;

  

margin-bottom: 10px;

  

font-weight: normal;

  

}

  

  

/* Modal */

  

.modal {

  

display: none;

  

position: fixed;

  

top: 0;

  

left: 0;

  

right: 0;

  

bottom: 0;

  

background: rgba(0,0,0,0.7);

  

z-index: 2000;

  

padding: 40px;

  

overflow-y: auto;

  

}

  

  

.modal.active {

  

display: flex;

  

align-items: center;

  

justify-content: center;

  

}

  

  

.modal-content {

  

background: white;

  

border-radius: 20px;

  

max-width: 1000px;

  

width: 100%;

  

max-height: 90vh;

  

overflow-y: auto;

  

position: relative;

  

}

  

  

.modal-header {

  

position: sticky;

  

top: 0;

  

background: white;

  

padding: 20px 40px;

  

border-bottom: 1px solid #e0e0e0;

  

display: flex;

  

justify-content: space-between;

  

align-items: center;

  

border-radius: 20px 20px 0 0;

  

z-index: 10;

  

}

  

  

.close-modal {

  

width: 40px;

  

height: 40px;

  

border-radius: 50%;

  

background: #f0f0f0;

  

border: none;

  

font-size: 24px;

  

cursor: pointer;

  

display: flex;

  

align-items: center;

  

justify-content: center;

  

}

  

  

.close-modal:hover {

  

background: #e0e0e0;

  

}

  

  

.modal-body {

  

padding: 40px;

  

}

  

  

.help-icon {

  

width: 40px;

  

height: 40px;

  

background: #4a5268;

  

color: white;

  

border-radius: 50%;

  

display: flex;

  

align-items: center;

  

justify-content: center;

  

font-size: 24px;

  

cursor: pointer;

  

transition: background 0.3s;

  

}

  

  

.help-icon:hover {

  

background: #5d6580;

  

}

  

  

@media (max-width: 1024px) {

  

.artifacts-grid {

  

grid-template-columns: repeat(2, 1fr);

  

}

  

  

.upload-grid {

  

grid-template-columns: 1fr;

  

}

  

}

  

  

@media (max-width: 768px) {

  

.artifacts-grid {

  

grid-template-columns: 1fr;

  

}

  

  

.header {

  

flex-direction: column;

  

gap: 15px;

  

padding: 15px;

  

}

  

  

.search-bar {

  

width: 100%;

  

}

  

}

  

</style>

  

</head>

  

<body>

  

<!-- Header -->

  

<div class="header">

  

<div class="logo"></div>

  

<div class="header-center">

  

<button class="btn" onclick="showUserInfoModal()">Submit Artifact</button>

  

<input type="text" class="search-bar" placeholder="ðŸ” Search">

  

</div>

  

<button class="btn" onclick="handleLoginClick()">Login</button>

  

</div>

  

  

<!-- Home Page (Archive) -->

  

<div id="homePage" class="page active">

  

<div class="home-header">

  

<div class="date-text">October 10, 2025</div>

  

<h1>Lived Archive</h1>

  

<p>An Archive of lived realities; of the people, for the people, by the people.</p>

  

</div>

  

  

<div class="artifacts-grid" id="homeArtifactsGrid">

  

<!-- Artifacts will be loaded here -->

  

</div>

  

</div>

  

  

<!-- Submit Page -->

  

<div id="submitPage" class="page">

  

<div class="submit-header">

  

<button class="btn" onclick="switchPage('home')" style="position: absolute; left: 40px;">Home</button>

  

<div class="date-text">October 10, 2025</div>

  

<h1>Be a part of the Lived Archive</h1>

  

<p>An Archive of lived realities; for the people, by the people, and of the people.</p>

  

</div>

  

  

<div class="upload-section">

  

<div class="upload-grid">

  

<div class="upload-box" onclick="document.getElementById('fileInput').click()">

  

<h3>Upload image or PDF</h3>

  

<p>Click to select an image or PDF file</p>

  

<input type="file" id="fileInput" accept="image/*,application/pdf">

  

</div>

  

<div class="upload-box" onclick="document.getElementById('audioInput').click()">

  

<h3>Upload Audio</h3>

  

<p>Click to select an audio file</p>

  

<input type="file" id="audioInput" accept="audio/*">

  

</div>

  

</div>

  

  

<div class="upload-box full-width">

  

<h3>Upload Text</h3>

  

<textarea id="textInput" class="text-upload" placeholder="Paste text for your artifact or text that accompanies the image/pdf/audio file you input"></textarea>

  

</div>

  

  

<div id="filePreview" class="file-preview"></div>

  

  

<div class="generate-section">

  

<button class="btn" id="generateBtn" onclick="generateTags()">Start Tagging</button>

  

<div id="loadingMsg">Curating tags...</div>

  

<div id="errorMsg"></div>

  

</div>

  

</div>

  

  

<!-- Results Section (Tags) -->

<div id="resultsSection" class="results-section">

<h4>Pick tags from each section that work best for your artifact!</h4>

<div class="tag-category">

  

<h3>Content Tags</h3>

  

<div id="contentTags" class="tags-container"></div>

  

<div class="custom-tag-input">

  

<input type="text" id="customcontentTag" placeholder="Add custom tag">

  

<button onclick="addcustomTag('content')">Add</button>

  

</div>

  

</div>

  

  

<div class="tag-category">

  

<h3>Form Tags</h3>

  

<div id="formTags" class="tags-container"></div>

  

<div class="custom-tag-input">

  

<input type="text" id="customformTag" placeholder="Add custom tag">

  

<button onclick="addcustomTag('form')">Add</button>

  

</div>

  

</div>

  

  

<div class="tag-category">

  

<h3>Use Case Tags</h3>

  

<div id="useTags" class="tags-container"></div>

  

<div class="custom-tag-input">

  

<input type="text" id="customuseTag" placeholder="Add custom tag">

  

<button onclick="addcustomTag('use')">Add</button>

  

</div>

  

</div>

  

  

<div class="tag-category">

  

<h3>Contextual Tags</h3>

  

<div id="contextTags" class="tags-container"></div>

  

<div class="custom-tag-input">

  

<input type="text" id="customcontextTag" placeholder="Add custom tag">

  

<button onclick="addcustomTag('context')">Add</button>

  

</div>

  

</div>

  

</div>


<!-- Description Section -->

<div id="descriptionSection" class="description-section">

<h3>Artifact Details</h3>

<div style="display: grid; gap: 20px;">

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">Artifact Title *</label>

<input type="text" id="artifactTitle" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">When was the artifact created? *</label>

<input type="date" id="artifactDate" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">Who created the artifact? *</label>

<input type="text" id="artifactCreator" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">Why It Was Created *</label>

<textarea id="artifactPurpose" placeholder="Explain the purpose of this artifact, in what context it was made, was it personal, activist work or something entirely different?" style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif; resize: vertical;"></textarea>

</div>

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">General Description *</label>

<textarea id="artifactDescription" placeholder="This artifact is about... Talk about where it came from, did you get it from somewhere OR make it yourself? Why is it important for it to exist?" style="width: 100%; min-height: 120px; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif; resize: vertical;"></textarea>

</div>

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">URL (Optional)</label>

<input type="url" id="artifactURL" placeholder="https://example.com" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

</div>

</div>

  

  

<!-- Submit Section -->

  

<div id="submitSection" class="submit-section">

  

<button class="btn" onclick="submitArtifact()">Submit Artifact</button>

  

</div>



</div>

  

  

<!-- Review Page -->

  

<div id="reviewPage" class="page">

  

<button class="btn" onclick="switchPage('home')" style="position: absolute; left: 40px; top: 100px;">Home</button>

  

<div class="review-header">

  

<h1>Review Queue</h1>

  

</div>

  

<div class="review-content" id="reviewContent">

  

<!-- Review content will be loaded here -->

  

</div>

  

</div>

  

  

<!-- Modal for Artifact Details -->

  

<div id="artifactModal" class="modal">

  

<div class="modal-content">

  

<div class="modal-header">

  

<h2>Artifact Details</h2>

  

<button class="close-modal" onclick="closeModal()">Ã—</button>

  

</div>

  

<div class="modal-body" id="modalBody"></div>

  

</div>

  

</div>

  

<!-- Login Modal -->

<div id="loginModal" class="modal">

<div class="modal-content" style="max-width: 500px;">

<div class="modal-header">

<h2>Admin Login</h2>

<button class="close-modal" onclick="closeLoginModal()">Ã—</button>

</div>

<div class="modal-body">

<div style="display: grid; gap: 20px;">

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">Username</label>

<input type="text" id="loginUsername" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">Password</label>

<input type="password" id="loginPassword" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

<div id="loginError" style="display: none; color: #c62828; text-align: center;"></div>

<button class="btn" onclick="submitLogin()" style="width: 100%;">Login</button>

</div>

</div>

</div>

</div>

  

<div id="userInfoModal" class="modal">

<div class="modal-content" style="max-width: 600px;">

<div class="modal-header">

<h2>Your Information</h2>

<button class="close-modal" onclick="closeUserInfoModal()">Ã—</button>

</div>

<div class="modal-body">

<div style="display: grid; gap: 20px;">

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">Name *</label>

<input type="text" id="submitterName" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">Email ID *</label>

<input type="email" id="submitterEmail" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

<div>

<label style="display: block; margin-bottom: 8px; font-weight: bold;">Designation/Relation to collectives/organisation (Optional)</label>

<input type="text" id="submitterDesignation" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; font-family: 'Georgia', serif;">

</div>

<div id="userInfoError" style="display: none; color: #c62828; text-align: center;"></div>

<button class="btn" onclick="submitUserInfo()" style="width: 100%;">Continue</button>

</div>

</div>

</div>

</div>

  

<script>

  

let selectedAudioFile = null;

  

let selectedVisualFile = null;

  

let currentSubmitterInfo = null;

  

let selectedTags = new Set();

  

let pendingArtifacts = [];

  

let acceptedArtifacts = [];

  

let currentArtifactData = null;

let isLoggedIn = false;

const ADMIN_USERNAME = 'admin';

const ADMIN_PASSWORD = 'password123';

  

const tagCategories = {

  

content: [

  

'Social Justice', 'Caste & Marginalization', 'Labor & Workers\' Rights',

  

'Gender & Sexuality', 'Education & Literacy', 'Health & Wellbeing',

  

'Religion & Spirituality', 'Politics & Policy', 'Grievances', 'Environment & Sustainability',

  

'Migration & Displacement', 'Urban Life & Infrastructure', 'Community Organizing',

  

'Oral Histories / Personal Narratives', 'Resistance & Protest', 'Culture & Heritage',

  

'Theatre & Performance', 'Music & Folk Traditions', 'Language & Linguistics',

  

'Media & Representation'

  

],

  

form: [

  

'Text (Article, Essay, Letter)', 'Print Publication (Magazine, Pamphlet, Zine)',

  

'Social Media Post (Instagram, WhatsApp, Twitter, etc.)', 'Photograph / Still Image',

  

'Audio Recording (Oral History, Podcast, Song)', 'Video (Interview, Performance, Documentary, Short Film)',

  

'Theatre Script / Performance', 'Artwork / Illustration', 'PDF Document',

  

'Physical Artifact (Poster, Object, Sculpture, Clothing, Tool)', 'Mixed Media / Collage'

  

],

  

use: [

  

'Awareness / Advocacy', 'Political Campaigning', 'Educational Resource',

  

'Community Mobilization', 'Memory & Commemoration', 'Cultural Expression',

  

'Protest Documentation', 'Alternative News / Reporting', 'Knowledge Sharing',

  

'Archival / Documentation', 'Collective Organizing Tool', 'Storytelling / Oral Tradition',

  

'Artistic Practice'

  

],

  

context: [

  

'Local Community Distribution', 'Grassroots Collective', 'Activist Circles',

  

'Student Circles', 'Digital Communities', 'Diaspora Networks',

  

'Informal Circulation (Word of Mouth, Handwritten Notes)', 'Independent Publication',

  

'Institutional Archive', 'Online Repository'

  

]

  

};

  

  

document.getElementById('fileInput').addEventListener('change', handleVisualFileSelect);

  

document.getElementById('audioInput').addEventListener('change', handleAudioSelect);

  

document.getElementById('textInput').addEventListener('input', handleTextInput);

  

document.getElementById('artifactTitle').addEventListener('input', checkSubmitReady);

  

document.getElementById('artifactDate').addEventListener('input', checkSubmitReady);

  

document.getElementById('artifactCreator').addEventListener('input', checkSubmitReady);

  

document.getElementById('artifactPurpose').addEventListener('input', checkSubmitReady);

  

document.getElementById('artifactDescription').addEventListener('input', checkSubmitReady);

  

  

function handleVisualFileSelect(e) {

  

selectedVisualFile = e.target.files[0];

  

if (selectedVisualFile) {

  

document.getElementById('audioInput').value = '';

  

document.getElementById('audioInput').disabled = true;

  

displayFilePreview();

  

} else {

  

selectedVisualFile = null;

  

if (!document.getElementById('textInput').value.trim()) {

  

resetInputs();

  

}

  

}

  

}

  

  

function handleAudioSelect(e) {

  

selectedAudioFile = e.target.files[0];

  

if (selectedAudioFile) {

  

document.getElementById('textInput').value = '';

  

document.getElementById('textInput').disabled = true;

  

document.getElementById('fileInput').value = '';

  

document.getElementById('fileInput').disabled = true;

  

selectedVisualFile = null;

  

displayFilePreview();

  

} else {

  

selectedAudioFile = null;

  

resetInputs();

  

}

  

}

  

  

function handleTextInput(e) {

  

if (e.target.value.trim().length > 0) {

  

document.getElementById('audioInput').value = '';

  

document.getElementById('audioInput').disabled = true;

  

selectedAudioFile = null;

  

displayFilePreview();

  

} else {

  

if (!selectedVisualFile) {

  

resetInputs();

  

}

  

}

  

}

  

  

function resetInputs() {

  

document.getElementById('fileInput').disabled = false;

  

document.getElementById('audioInput').disabled = false;

  

document.getElementById('textInput').disabled = false;

  

document.getElementById('filePreview').classList.remove('active');

  

}

  

  

function displayFilePreview() {

  

const preview = document.getElementById('filePreview');

  

preview.innerHTML = '';

  

if (selectedAudioFile || selectedVisualFile) {

  

preview.classList.add('active');

  

if (selectedAudioFile && selectedAudioFile.type.startsWith('audio/')) {

  

const fileName = document.createElement('div');

  

fileName.className = 'file-name';

  

fileName.innerHTML = `<svg class="file-icon" viewBox="0 0 24 24"><path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"/></svg>${selectedAudioFile.name}`;

  

preview.appendChild(fileName);

  

}

  

if (selectedVisualFile) {

  

const fileName = document.createElement('div');

  

fileName.className = 'file-name';

  

let iconPath = '';

  

if (selectedVisualFile.type.startsWith('image/')) {

  

iconPath = `<svg class="file-icon" viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>`;

  

} else if (selectedVisualFile.type === 'application/pdf') {

  

iconPath = `<svg class="file-icon" viewBox="0 0 24 24"><path d="M19 3h-4.18C14.4 2.18 13.29 1.5 12 1.5S9.6 2.18 9.18 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H8V9h6v8zm-2-6h-2V7h2v4z"/></svg>`;

  

}

  

fileName.innerHTML = `${iconPath}${selectedVisualFile.name}`;

  

preview.appendChild(fileName);

  

if (selectedVisualFile.type.startsWith('image/')) {

  

const reader = new FileReader();

  

reader.onload = function(e) {

  

const img = document.createElement('img');

  

img.src = e.target.result;

  

preview.appendChild(img);

  

};

  

reader.readAsDataURL(selectedVisualFile);

  

} else if (selectedVisualFile.type === 'application/pdf') {

  

const pdfEmbed = document.createElement('iframe');

  

pdfEmbed.src = URL.createObjectURL(selectedVisualFile);

  

pdfEmbed.className = 'artifact-pdf';

  

pdfEmbed.title = 'PDF Preview';

  

preview.appendChild(pdfEmbed);

  

}

  

}

  

} else {

  

preview.classList.remove('active');

  

}

  

}

  

  

async function fileToBase64(file) {

  

return new Promise((resolve, reject) => {

  

const reader = new FileReader();

  

reader.onload = () => {

  

const base64 = reader.result.split(',')[1];

  

resolve(base64);

  

};

  

reader.onerror = reject;

  

reader.readAsDataURL(file);

  

});

  

}

  

  

function displayTags(aiSuggestedTags) {

  

const resultsSection = document.getElementById('resultsSection');

  

Object.entries(tagCategories).forEach(([category, tags]) => {

  

const container = document.getElementById(`${category}Tags`);

  

container.innerHTML = '';

  

tags.forEach(tag => {

  

const tagEl = createTagElement(tag, false);

  

container.appendChild(tagEl);

  

});

  

});

  

  

if (aiSuggestedTags && aiSuggestedTags.length > 0) {

  

aiSuggestedTags.forEach(tag => {

  

const category = determineCategory(tag);

  

const container = document.getElementById(`${category}Tags`);

  

const exists = Array.from(container.children).some(child =>

  

child.textContent.replace('âœ¨', '').trim().toLowerCase() === tag.toLowerCase()

  

);

  

if (!exists) {

  

const tagEl = createTagElement(tag, true);

  

container.appendChild(tagEl);

  

}

  

});

  

}

  

resultsSection.classList.add('active');

  

}

  

  

function createTagElement(tagText, isAiSuggested) {

  

const tagEl = document.createElement('span');

  

tagEl.className = 'tag';

  

if (isAiSuggested) {

  

tagEl.classList.add('ai-suggested');

  

}

  

tagEl.textContent = tagText;

  

tagEl.onclick = () => toggleTag(tagEl, tagText);

  

return tagEl;

  

}

  

  

function toggleTag(element, tagText) {

element.classList.toggle('selected');

if (element.classList.contains('selected')) {

selectedTags.add(tagText);

} else {

selectedTags.delete(tagText);

}

console.log('Selected tags:', Array.from(selectedTags)); // Debug line

console.log('Selected tags count:', selectedTags.size); // Debug line

updateSelectedSummary();

checkSubmitReady();

}

  

  

function updateSelectedSummary() {

  

const summary = document.getElementById('selectedSummary');

  

const count = document.getElementById('selectedCount');

  

const descSection = document.getElementById('descriptionSection');

  

count.textContent = selectedTags.size;

  

if (selectedTags.size > 0) {

  

summary.classList.add('active');

  

descSection.classList.add('active');

  

} else {

  

summary.classList.remove('active');

  

descSection.classList.remove('active');

  

document.getElementById('submitSection').classList.remove('active');

  

}

  

}

  

function checkSubmitReady() {

const title = document.getElementById('artifactTitle').value.trim();

const date = document.getElementById('artifactDate').value.trim();

const creator = document.getElementById('artifactCreator').value.trim();

const purpose = document.getElementById('artifactPurpose').value.trim();

const description = document.getElementById('artifactDescription').value.trim();

const submitSection = document.getElementById('submitSection');

console.log('Check submit - Tags:', selectedTags.size, 'Title:', !!title, 'Date:', !!date, 'Creator:', !!creator, 'Purpose:', !!purpose, 'Desc:', !!description);

if (selectedTags.size > 0 && title && date && creator && purpose && description) {

console.log('SHOWING SUBMIT BUTTON');

submitSection.classList.add('active');

} else {

console.log('HIDING SUBMIT BUTTON');

submitSection.classList.remove('active');

}

}

  

  

function determineCategory(tag) {

  

const tagLower = tag.toLowerCase();

  

if (tagLower.includes('audio') || tagLower.includes('image') || tagLower.includes('text') ||

  

tagLower.includes('video') || tagLower.includes('media') || tagLower.includes('document') || tagLower.includes('pdf')) {

  

return 'form';

  

} else if (tagLower.includes('advocacy') || tagLower.includes('education') ||

  

tagLower.includes('protest') || tagLower.includes('mobiliz')) {

  

return 'use';

  

} else if (tagLower.includes('community') || tagLower.includes('local') ||

  

tagLower.includes('digital') || tagLower.includes('circul')) {

  

return 'context';

  

} else {

  

return 'content';

  

}

  

}

  

  

window.addcustomTag = function(category) {

const inputId = `custom${category}Tag`;

const input = document.getElementById(inputId);

const tagText = input.value.trim();

if (tagText) {

const container = document.getElementById(`${category}Tags`);

const exists = Array.from(container.children).some(child =>

child.textContent.replace('âœ¨', '').trim().toLowerCase() === tagText.toLowerCase()

);

if (!exists) {

const tagEl = createTagElement(tagText, false);

tagEl.style.borderColor = '#ff9800';

container.appendChild(tagEl);

input.value = '';

// Auto-select the newly added custom tag

tagEl.classList.add('selected');

selectedTags.add(tagText);

updateSelectedSummary();

checkSubmitReady();

} else {

alert('This tag already exists in this category!');

}

}

};

  

  

document.querySelectorAll('.custom-tag-input input').forEach(input => {

  

input.addEventListener('keypress', function(e) {

  

if (e.key === 'Enter') {

  

const category = this.id.replace('custom', '').replace('Tag', '').toLowerCase();

  

addcustomTag(category);

  

}

  

});

  

});

  

  

window.generateTags = async function() {

  

const textInput = document.getElementById('textInput').value.trim();

  

const loadingMsg = document.getElementById('loadingMsg');

  

const errorMsg = document.getElementById('errorMsg');

  

const generateBtn = document.getElementById('generateBtn');

  

const apiKey = 'AIzaSyDBFw_WgGbngy_Pw5lC2xhOpy7A2veCSqk';

  

  

errorMsg.style.display = 'none';

  

selectedTags.clear();

  

document.getElementById('resultsSection').classList.remove('active');

  

document.getElementById('selectedSummary').classList.remove('active');

  

document.getElementById('descriptionSection').classList.remove('active');

  

document.getElementById('submitSection').classList.remove('active');

  

  

if (!selectedAudioFile && !selectedVisualFile && !textInput) {

  

errorMsg.textContent = 'Please upload a file or enter a description.';

  

errorMsg.style.display = 'block';

  

return;

  

}

  

  

loadingMsg.style.display = 'block';

  

generateBtn.disabled = true;

  

  

try {

  

const parts = [];

  

let prompt = `Analyze the provided content and suggest relevant tags. Consider themes, purpose, and context. Return 5-10 specific, relevant tags as a comma-separated list. Focus on: social justice themes, media format, intended use, and circulation context.`;

  

  

if (selectedAudioFile && selectedAudioFile.type.startsWith('audio/')) {

  

const base64Data = await fileToBase64(selectedAudioFile);

  

parts.push({

  

inlineData: {

  

mimeType: selectedAudioFile.type,

  

data: base64Data

  

}

  

});

  

parts.push({ text: `Analyze this audio file and ${prompt}` });

  

} else {

  

if (selectedVisualFile) {

  

const base64Data = await fileToBase64(selectedVisualFile);

  

parts.push({

  

inlineData: {

  

mimeType: selectedVisualFile.type,

  

data: base64Data

  

}

  

});

  

}

  

if (textInput && selectedVisualFile) {

  

parts.push({ text: `${prompt}\n\nAnalyze both the provided visual (image/pdf) and this text content together: ${textInput}` });

  

} else if (textInput) {

  

parts.push({ text: `${prompt}\n\nContent: ${textInput}` });

  

} else if (selectedVisualFile) {

  

parts.push({ text: `Analyze the provided visual content (image/pdf) and ${prompt}` });

  

}

  

}

  

  

const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${apiKey}`, {

  

method: 'POST',

  

headers: {

  

'Content-Type': 'application/json',

  

},

  

body: JSON.stringify({

  

contents: [{

  

parts: parts

  

}]

  

})

  

});

  

  

if (!response.ok) {

  

const errorResponse = await response.json();

  

throw new Error(`API request failed: ${response.statusText} - ${JSON.stringify(errorResponse)}`);

  

}

  

  

const data = await response.json();

  

const generatedText = data.candidates?.[0]?.content?.parts?.[0]?.text || '';

  

const tags = generatedText

  

.split(/,|\n/)

  

.map(tag => tag.trim())

  

.filter(tag => tag.length > 0 && tag.length < 50);

  

displayTags(tags);

  

} catch (error) {

  

errorMsg.textContent = `Error: ${error.message}`;

  

errorMsg.style.display = 'block';

  

} finally {

  

loadingMsg.style.display = 'none';

  

generateBtn.disabled = false;

  

}

  

};

  

  

window.submitArtifact = function() {

const title = document.getElementById('artifactTitle').value.trim();

const date = document.getElementById('artifactDate').value.trim();

const creator = document.getElementById('artifactCreator').value.trim();

const purpose = document.getElementById('artifactPurpose').value.trim();

const description = document.getElementById('artifactDescription').value.trim();

const url = document.getElementById('artifactURL').value.trim();

const tagsArray = Array.from(selectedTags);

const textContent = document.getElementById('textInput').value.trim();

// Combine all details into one description text

let combinedDescription = `Title: ${title}\n\n`;

combinedDescription += `Date Created: ${date}\n\n`;

combinedDescription += `Created By: ${creator}\n\n`;

combinedDescription += `Purpose: ${purpose}\n\n`;

combinedDescription += `Description: ${description}`;

if (url) {

combinedDescription += `\n\nURL: ${url}`;

}

currentArtifactData = {

tags: tagsArray,

title: title,

description: combinedDescription,

submitter: currentSubmitterInfo,

timestamp: new Date().toISOString(),

textContent: textContent,

visualFile: selectedVisualFile,

audioFile: selectedAudioFile,

visualDataURL: null,

audioDataURL: null

};

  

  

const promises = [];


if (selectedVisualFile) {

  

promises.push(new Promise(resolve => {

  

const reader = new FileReader();

  

reader.onload = function(e) {

  

currentArtifactData.visualDataURL = e.target.result;

  

resolve();

  

};

  

reader.readAsDataURL(selectedVisualFile);

  

}));

  

}

  

  

if (selectedAudioFile) {

  

promises.push(new Promise(resolve => {

  

const reader = new FileReader();

  

reader.onload = function(e) {

  

currentArtifactData.audioDataURL = e.target.result;

  

resolve();

  

};

  

reader.readAsDataURL(selectedAudioFile);

  

}));

  

}

  

  

Promise.all(promises).then(() => {

  

finalizeSubmission();

  

}).catch(error => {

  

console.error("Error reading file:", error);

  

alert("An error occurred while preparing the files for submission.");

  

});

  

};

  

  

function finalizeSubmission() {

  

pendingArtifacts.push(currentArtifactData);

  

alert('Artifact submitted successfully! It is now pending review.');

  

resetForm();

  

}

  

  

function resetForm() {

selectedAudioFile = null;

selectedVisualFile = null;

selectedTags.clear();

document.getElementById('fileInput').value = '';

document.getElementById('audioInput').value = '';

document.getElementById('textInput').value = '';

document.getElementById('artifactTitle').value = '';

document.getElementById('artifactDate').value = '';

document.getElementById('artifactCreator').value = '';

document.getElementById('artifactPurpose').value = '';

document.getElementById('artifactDescription').value = '';

document.getElementById('artifactURL').value = '';

document.getElementById('resultsSection').classList.remove('active');

document.getElementById('filePreview').classList.remove('active');

document.getElementById('selectedSummary').classList.remove('active');

document.getElementById('descriptionSection').classList.remove('active');

document.getElementById('submitSection').classList.remove('active');

resetInputs();

}

  

  

window.switchPage = function(pageName) {

  

document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));

  

if (pageName === 'home') {

  

document.getElementById('homePage').classList.add('active');

  

loadArchive();

  

} else if (pageName === 'submit') {

  

document.getElementById('submitPage').classList.add('active');

  

} else if (pageName === 'review') {

  

document.getElementById('reviewPage').classList.add('active');

  

loadReviewQueue();

  

}

  

};

  

  

function loadReviewQueue() {

  

const reviewContent = document.getElementById('reviewContent');

  

  

if (pendingArtifacts.length === 0) {

  

reviewContent.innerHTML = `

  

<div class="no-artifacts">

  

<svg viewBox="0 0 24 24" fill="currentColor">

  

<path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>

  

</svg>

  

<h3>No Pending Reviews</h3>

  

<p>All artifacts have been reviewed!</p>

  

</div>

  

`;

  

return;

  

}

  

  

reviewContent.innerHTML = '';

  

pendingArtifacts.forEach((artifact, index) => {

  

const artifactCard = createReviewCard(artifact, index);

  

reviewContent.appendChild(artifactCard);

  

});

  

}

  

  

function createReviewCard(artifact, index) {

  

const card = document.createElement('div');

  

card.className = 'artifact-card';

  

card.style.marginBottom = '30px';

  

let imageHTML = '';

  

if (artifact.visualDataURL && artifact.visualFile.type.startsWith('image/')) {

  

imageHTML = `<div class="artifact-card-image"><img src="${artifact.visualDataURL}" alt="Artifact"></div>`;

  

} else {

  

imageHTML = `<div class="artifact-card-image"></div>`;

  

}

  

card.innerHTML = `

${imageHTML}

<div class="artifact-card-content">

<h3>${artifact.title || 'Untitled Artifact'}</h3>

<div class="artifact-tags">

${artifact.tags.slice(0, 3).map(tag => `<span class="tag">${tag}</span>`).join('')}

</div>

</div>

`;

  

card.onclick = () => viewArtifactDetails(index, true);

  

return card;

  

}

  

document.getElementById('loginModal').addEventListener('click', function(e) {

if (e.target === this) {

closeLoginModal();

}

});

  

function loadArchive() {

  

const artifactsGrid = document.getElementById('homeArtifactsGrid');

  

artifactsGrid.innerHTML = '';

  

  

// Add CTA card

  

const ctaCard = document.createElement('div');

  

ctaCard.className = 'cta-card';

  

ctaCard.innerHTML = `

  

<div>

  

<h2>Be a part of the archive!</h2>

  

<p>Have a story that matters, a piece of history that should remain permanent? Send it in and join the Lived Archive on your own terms.</p>

  

</div>

  

<button class="btn" onclick="showUserInfoModal()">Submit Artifact</button>

  

`;

  

artifactsGrid.appendChild(ctaCard);

  

  

if (acceptedArtifacts.length === 0) {

  

// Add placeholder cards

  

for (let i = 0; i < 6; i++) {

  

const placeholderCard = document.createElement('div');

  

placeholderCard.className = 'artifact-card';

  

placeholderCard.innerHTML = `

  

<div class="artifact-card-image"></div>

  

<div class="artifact-card-content">

  

<h3>Title</h3>

  

<div class="artifact-tags">

  

<span class="tag">Tags</span>

  

<span class="tag">Tags</span>

  

<span class="tag">Tags</span>

  

</div>

  

</div>

  

`;

  

artifactsGrid.appendChild(placeholderCard);

  

}

  

} else {

  

acceptedArtifacts.forEach((artifact, index) => {

  

const card = document.createElement('div');

  

card.className = 'artifact-card';

  

let imageHTML = '';

  

if (artifact.visualDataURL && artifact.visualFile.type.startsWith('image/')) {

  

imageHTML = `<div class="artifact-card-image"><img src="${artifact.visualDataURL}" alt="Artifact"></div>`;

  

} else {

  

imageHTML = `<div class="artifact-card-image"></div>`;

  

}

  

card.innerHTML = `

${imageHTML}

<div class="artifact-card-content">

<h3>${artifact.title || 'Untitled Artifact'}</h3>

<div class="artifact-tags">

${artifact.tags.slice(0, 3).map(tag => `<span class="tag">${tag}</span>`).join('')}

</div>

</div>

`;

  

card.onclick = () => viewArtifactDetails(index, false);

  

artifactsGrid.appendChild(card);

  

});

  

}

  

}

  

  

window.viewArtifactDetails = function(index, isPending = false) {

  

const artifact = isPending ? pendingArtifacts[index] : acceptedArtifacts[index];

  

const modal = document.getElementById('artifactModal');

  

const modalBody = document.getElementById('modalBody');

  

  

let contentHTML = '';

  

if (artifact.visualDataURL) {

  

if (artifact.visualFile.type.startsWith('image/')) {

  

contentHTML += `

  

<div class="artifact-section">

  

<img src="${artifact.visualDataURL}" class="artifact-image" alt="Artifact image">

  

</div>

  

`;

  

} else if (artifact.visualFile.type === 'application/pdf') {

  

contentHTML += `

  

<div class="artifact-section">

  

<iframe src="${artifact.visualDataURL}" class="artifact-pdf" title="PDF Document"></iframe>

  

</div>

  

`;

  

}

  

}

  

  

contentHTML += `

<div class="artifact-section">

<h3>${artifact.title || 'Title'}</h3>

</div>

<div class="artifact-section">

<div class="artifact-tags-display">

${artifact.tags.map(tag => `<span class="tag readonly">${tag}</span>`).join('')}

</div>

</div>

`;

  

if (artifact.description) {

contentHTML += `

<div class="artifact-section">

<h3>Details</h3>

<div class="artifact-text">${artifact.description.replace(/\n/g, '<br>')}</div>

</div>

`;

}

  

  

if (artifact.textContent) {

  

contentHTML += `

  

<div class="artifact-section">

  

<div class="artifact-text">${artifact.textContent}</div>

  

</div>

  

`;

  

}

  

  

if (artifact.audioDataURL) {

  

contentHTML += `

  

<div class="artifact-section">

  

<audio controls class="artifact-audio" src="${artifact.audioDataURL}"></audio>

  

</div>

  

`;

  

}

  

if (artifact.submitter) {

contentHTML += `

<div class="artifact-section">

<h3>Submitted By</h3>

<div class="artifact-text">

<strong>Name:</strong> ${artifact.submitter.name}<br>

<strong>Email:</strong> ${artifact.submitter.email}<br>

<strong>Designation:</strong> ${artifact.submitter.designation}

</div>

</div>

`;

}
  

if (isPending) {

  

contentHTML += `

  

<div class="review-actions">

  

<button class="accept-btn" onclick="acceptArtifact(${index})">Accept</button>

  

<button class="reject-btn" disabled>Reject</button>

  

</div>

  

`;

  

}

  

  

modalBody.innerHTML = `<div class="artifact-viewer">${contentHTML}</div>`;

  

modal.classList.add('active');

  

};

  

  

window.acceptArtifact = function(index) {

  

const artifact = pendingArtifacts.splice(index, 1)[0];

  

acceptedArtifacts.push(artifact);

  

alert('Artifact accepted and added to archive!');

  

closeModal();

  

loadReviewQueue();

  

};

  

  

window.closeModal = function() {

  

document.getElementById('artifactModal').classList.remove('active');

  

};

  

window.handleLoginClick = function() {

if (isLoggedIn) {

switchPage('review');

} else {

document.getElementById('loginModal').classList.add('active');

document.getElementById('loginUsername').value = '';

document.getElementById('loginPassword').value = '';

document.getElementById('loginError').style.display = 'none';

}

};

  

window.submitLogin = function() {

const username = document.getElementById('loginUsername').value.trim();

const password = document.getElementById('loginPassword').value.trim();

const errorDiv = document.getElementById('loginError');

if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {

isLoggedIn = true;

closeLoginModal();

switchPage('review');

} else {

errorDiv.textContent = 'Invalid username or password';

errorDiv.style.display = 'block';

}

};

  

window.closeLoginModal = function() {

document.getElementById('loginModal').classList.remove('active');

};

  

document.addEventListener('DOMContentLoaded', function() {

const loginPassword = document.getElementById('loginPassword');

if (loginPassword) {

loginPassword.addEventListener('keypress', function(e) {

if (e.key === 'Enter') {

submitLogin();

}

});

}

const loginUsername = document.getElementById('loginUsername');

if (loginUsername) {

loginUsername.addEventListener('keypress', function(e) {

if (e.key === 'Enter') {

submitLogin();

}

});

}

});

  

document.getElementById('artifactModal').addEventListener('click', function(e) {

  

if (e.target === this) {

  

closeModal();

  

}

  

});

  

window.showUserInfoModal = function() {

document.getElementById('userInfoModal').classList.add('active');

document.getElementById('submitterName').value = '';

document.getElementById('submitterEmail').value = '';

document.getElementById('submitterDesignation').value = '';

document.getElementById('userInfoError').style.display = 'none';

};

  

window.submitUserInfo = function() {

const name = document.getElementById('submitterName').value.trim();

const email = document.getElementById('submitterEmail').value.trim();

const designation = document.getElementById('submitterDesignation').value.trim();

const errorDiv = document.getElementById('userInfoError');

if (!name || !email) {

errorDiv.textContent = 'Please fill in all required fields';

errorDiv.style.display = 'block';

return;

}

// Basic email validation

const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

if (!emailRegex.test(email)) {

errorDiv.textContent = 'Please enter a valid email address';

errorDiv.style.display = 'block';

return;

}

currentSubmitterInfo = {

name: name,

email: email,

designation: designation || 'Not specified'

};

closeUserInfoModal();

switchPage('submit');

};

  

window.closeUserInfoModal = function() {

document.getElementById('userInfoModal').classList.remove('active');

};

  

// Close modal when clicking outside

document.getElementById('userInfoModal').addEventListener('click', function(e) {

if (e.target === this) {

closeUserInfoModal();

}

});

  

// Initialize home page

  

loadArchive();

  

</script>

  

</body>

  

</html>